{"ast":null,"code":"var _jsxFileName = \"/home/basil/farmsafety_app/src/components/home/welcome.js\";\nimport React, { Component } from \"react\";\nimport \"./welcome.css\";\nimport { MdPerson } from \"react-icons/md\";\nimport { FiLogOut } from \"react-icons/fi\"; //import Loader from \"react-loader-spinner\";\n\nimport { Button, Nav, Navbar, ButtonToolbar } from \"react-bootstrap\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Quiz from \"../quiz/quiz\";\nimport fire from \"../../config/fire\";\nimport UserProfile from \"../quiz/userProfile\";\nimport Articles from \"./articles\";\nimport Articles2 from \"./articles2\";\nimport Articles3 from \"./articles3\";\nimport Articles4 from \"./articles4\";\nimport Articles5 from \"./articles5\";\nimport { Alert } from \"reactstrap\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InstructionsModal from \"./instructionsmodal\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport SideProfileDrawer from \"../home/sideProfileDrawer\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeToquiz1 = () => {\n      this.setState({\n        level1: true,\n        level2: false,\n        level3: false,\n        level4: false,\n        level5: false,\n        disabled: false,\n        fakelevel: 0\n      });\n    };\n\n    this.changeToquiz2 = () => {\n      this.setState({\n        level1: false,\n        level2: true,\n        level3: false,\n        level4: false,\n        level5: false,\n        disabled: false,\n        fakelevel: 1\n      });\n    };\n\n    this.changeToquiz3 = () => {\n      this.setState({\n        level1: false,\n        level2: false,\n        level3: true,\n        level4: false,\n        level5: false,\n        disabled: false,\n        fakelevel: 2\n      });\n    };\n\n    this.changeToquiz4 = () => {\n      this.setState({\n        level1: false,\n        level2: false,\n        level3: false,\n        level4: true,\n        level5: false,\n        disabled: false,\n        fakelevel: 3\n      });\n    };\n\n    this.changeToquiz5 = () => {\n      this.setState({\n        level1: false,\n        level2: false,\n        level3: false,\n        level4: false,\n        level5: true,\n        disabled: false,\n        fakelevel: 4\n      });\n    };\n\n    this.checkQuiznLevel = () => {\n      if (this.state.viewquiz && this.state.level1 || this.state.viewquiz && this.state.level2 || this.state.viewquiz && this.state.level3 || this.state.viewquiz && this.state.level4 || this.state.viewquiz && this.state.level5) {\n        this.setState({\n          viewquiz: false\n        });\n      }\n    };\n\n    this.pushTimeDB = () => {\n      var ref = fire.database().ref(\"data\");\n      var newRef = ref.push();\n      newRef.set({\n        LastLogin: this.props.time\n      });\n      console.log(\"Sent to Database\");\n    };\n\n    this.authListener = () => {\n      //checks if user is already logged in 0n browser\n      fire.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.setState({\n            user\n          });\n          this.pushTimeDB();\n        } else {\n          this.setState({\n            user: null\n          });\n        }\n\n        return user;\n      });\n    };\n\n    this.retrieveData = () => {\n      fire.auth().onAuthStateChanged(user => {\n        if (user) {\n          var ref = fire.database().ref(\"data\").limitToLast(1); //takes the last data in DB\n\n          var userUID = fire.auth().currentUser.uid;\n          var query = ref.orderByChild(\"ID\").equalTo(userUID); //retrieves data about only the current logged in user\n\n          console.log(userUID);\n          query.on(\"value\", snapshot => {\n            let currentState = this.state.people;\n            const currentUser = snapshot.val();\n\n            for (let i in currentUser) {\n              currentState.push({\n                email: currentUser[i].UserEmail,\n                UserAnswer: currentUser[i].UserAnswer,\n                Questions: currentUser[i].Question,\n                id: currentUser[i].ID,\n                Score: currentUser[i].Score,\n                levelRook: currentUser[i].UserLevel,\n                levelStudent: currentUser[i].UserLevelStudent,\n                levelIntermediate: currentUser[i].UserLevelIntermediate,\n                levelExpert: currentUser[i].UserLevelExpert,\n                levelMaster: currentUser[i].UserLevelMaster,\n                rank: currentUser[i].RankValue,\n                lastLogin: currentUser[i].LastLogin\n              });\n            } // currentState.push(user);\n\n\n            console.log(currentState);\n            this.rankData(); //setting rank value from DB\n\n            this.setState({\n              people: currentState,\n              dataHasLoaded: true\n            });\n          });\n        } else {\n          console.log(\"no user\");\n        }\n      });\n    };\n\n    this.changetoQuiz = () => {\n      this.setState({\n        viewquiz: !this.state.viewquiz,\n        article1: false,\n        article2: false,\n        article3: false,\n        article4: false,\n        article5: false\n      });\n    };\n\n    this.changetoProfile = () => {\n      this.setState({\n        viewProfile: !this.state.viewProfile\n      });\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      fire.auth().signOut();\n      console.log(\"Logged out\");\n    };\n\n    this.hideQuizButton = () => {\n      this.setState({\n        hideQuiz: false\n      });\n    };\n\n    this.articelState = () => {\n      if (this.state.level1) {\n        this.setState({\n          article1: true,\n          article2: false,\n          article3: false,\n          article4: false,\n          article5: false\n        });\n      } else if (this.state.level2) {\n        this.setState({\n          article1: false,\n          article2: true,\n          article3: false,\n          article4: false,\n          article5: false\n        });\n      } else if (this.state.level3) {\n        this.setState({\n          article1: false,\n          article2: false,\n          article3: true,\n          article4: false,\n          article5: false\n        });\n      } else if (this.state.level4) {\n        this.setState({\n          article1: false,\n          article2: false,\n          article3: false,\n          article4: true,\n          article5: false\n        });\n      } else if (this.state.level5) {\n        this.setState({\n          article1: false,\n          article2: false,\n          article3: false,\n          article4: false,\n          article5: true\n        });\n      }\n    };\n\n    this.clickedrookie = () => {\n      console.log(\"clicked rookie\");\n    };\n\n    this.clickedstudent = () => {\n      console.log(\"clicked student\");\n    };\n\n    this.clickedinterm = () => {\n      console.log(\"clicked interm\");\n    };\n\n    this.clickedexpert = () => {\n      console.log(\"clicked expert\");\n    };\n\n    this.clickedmaster = () => {\n      console.log(\"clicked master\");\n    };\n\n    this.handleDisableValue = (scores, limitedQuestion) => {\n      if (scores >= Math.round(limitedQuestion * 0.5) && this.state.level < 4) {\n        console.log(\"entered level up \" + Math.round(limitedQuestion * 0.5));\n        this.setState({\n          level: this.state.level + 1\n        });\n      }\n\n      if (scores >= Math.round(limitedQuestion * 0.5) && this.state.fakelevel < this.state.level) {\n        console.log(\"entered fakelevel \" + Math.round(limitedQuestion * 0.5));\n        this.setState({\n          level: this.state.level\n        });\n      } else if (scores >= Math.round(limitedQuestion * 0.5) && this.state.level > 4) {\n        console.log(\"entered max level \" + Math.round(limitedQuestion * 0.5));\n        this.setState({\n          quizCompleted: true\n        });\n      }\n\n      console.log(\"current level \" + this.state.level);\n    };\n\n    this.loadNextfromChild = data => {\n      //if(this.state.)\n      if (this.state.userLevel2) {\n        this.setState({\n          article2: data\n        });\n      } else if (this.state.userLevel3) {\n        this.setState({\n          article3: data\n        });\n      }\n    };\n\n    this.rankData = () => {\n      this.state.people.map(person => {\n        this.setState({\n          level: person.rank\n        });\n        console.log(\"Rank \" + this.state.level);\n      });\n      /*\n      this.setState({\n        level: this.state.people[0].rank\n      });\n      console.log(this.state.level);\n      */\n    };\n\n    this.modalInstruction = () => {\n      this.setState({\n        viewModal: !this.state.viewModal\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        viewModal: false\n      });\n    };\n\n    this.state = {\n      viewquiz: false,\n      people: [],\n      dataHasLoaded: false,\n      user: {},\n      disabled: true,\n      date: new Date(),\n      quizCompleted: false,\n      level: 0,\n      fakelevel: 0,\n      article1: true,\n      viewModal: false,\n      article2: false,\n      article3: false,\n      article4: false,\n      article5: false,\n      hideQuiz: true,\n      viewProfile: false\n    };\n  }\n\n  componentDidMount() {\n    this.authListener();\n    this.retrieveData();\n    this.timerID = setInterval(() => this.tick(), 1000);\n    console.log(\"Data mounted\");\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      date: new Date()\n    });\n  }\n\n  render() {\n    const STUDENT = 1;\n    const INTERM = 2;\n    const EXPERT = 3;\n    const MASTER = 4;\n    let renderData = this.state.people.map((person, index) => {\n      return React.createElement(\"div\", {\n        id: \"userProfileComp\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, this.state.viewProfile ? React.createElement(UserProfile, {\n        className: \"userProfile\",\n        levelRook: person.levelRook,\n        levelStudent: person.levelStudent,\n        levelIntermediate: person.levelIntermediate,\n        levelExpert: person.levelExpert,\n        levelMaster: person.levelMaster,\n        score: person.Score,\n        question: person.Questions,\n        email: person.email,\n        time: person.lastLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }) : null);\n    }); // let loadingSpinner = <Loader id=\"loader\" type=\"ThreeDots\" color=\"red \" />;\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      id: \"navbar\",\n      bg: \"primary\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      style: {\n        fontSize: 25\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, \"Welcome\", React.createElement(ButtonToolbar, {\n      className: \"levelButtons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, \" \", React.createElement(Button, {\n      className: \"btnLevel\",\n      onClick: () => {\n        this.clickedrookie();\n        this.changeToquiz1();\n        this.articelState();\n        this.checkQuiznLevel(); //       this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, \"Rookie\"), \" \", React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < STUDENT,\n      onClick: () => {\n        this.clickedstudent();\n        this.articelState();\n        this.changeToquiz2();\n        this.checkQuiznLevel(); //    this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, \"Student\"), \" \", React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < INTERM,\n      onClick: () => {\n        this.clickedinterm();\n        this.changeToquiz3();\n        this.articelState();\n        this.checkQuiznLevel(); //    this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }, \"Intermediate\"), \" \", React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < EXPERT,\n      onClick: () => {\n        this.changeToquiz4();\n        this.articelState();\n        this.clickedexpert();\n        this.checkQuiznLevel(); //    this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, \"Expert\"), \" \", React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < MASTER,\n      onClick: () => {\n        this.changeToquiz5();\n        this.clickedmaster();\n        this.articelState();\n        this.checkQuiznLevel(); //      this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, \"Master\"))), React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, \" \", React.createElement(Tooltip, {\n      TransitionComponent: Zoom,\n      title: \"Guide on how the Quiz works\",\n      arrow: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => this.setState({\n        viewModal: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, \"Instructions\")))), React.createElement(Tooltip, {\n      TransitionComponent: Zoom,\n      title: \"Log out and go to Home\",\n      arrow: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, \"Logout \", React.createElement(FiLogOut, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    })))), React.createElement(Tooltip, {\n      TransitionComponent: Zoom,\n      title: \"View Your Profile Info\",\n      arrow: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.changetoProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, \"Profile \", React.createElement(MdPerson, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, \"Test!\")), this.state.article1 ? React.createElement(Articles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }) : null, this.state.article2 ? React.createElement(Articles2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }) : null, this.state.article3 ? React.createElement(Articles3, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }) : null, this.state.article4 ? React.createElement(Articles4, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }) : null, this.state.article5 ? React.createElement(Articles5, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }) : null, this.state.viewModal ? React.createElement(InstructionsModal, {\n      isOpen: this.state.viewModal,\n      onHide: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }) : null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }, this.state.viewProfile ? renderData : null, this.state.viewProfile ? React.createElement(SideProfileDrawer, {\n      data: renderData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }) : null), React.createElement(Button, {\n      id: \"takeQuizbtn\",\n      disabled: this.state.disabled,\n      onClick: () => {\n        this.changetoQuiz();\n        this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533\n      },\n      __self: this\n    }, \"Take the Quiz\"), this.state.viewquiz ? React.createElement(Quiz, {\n      time: this.state.date.toLocaleTimeString(),\n      quizFinished: this.state.quizCompleted,\n      tryAgain: this.hideQuizButton,\n      tryAgain2: this.changetoQuiz,\n      articelVal: this.articelState,\n      rankValue: this.state.level,\n      loadNextfrom: this.loadNextfromChild,\n      handleDisableValue: this.handleDisableValue,\n      userLevel1: this.state.level1,\n      userLevel2: this.state.level2,\n      userLevel3: this.state.level3,\n      userLevel4: this.state.level4,\n      userLevel5: this.state.level5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/home/basil/farmsafety_app/src/components/home/welcome.js"],"names":["React","Component","MdPerson","FiLogOut","Button","Nav","Navbar","ButtonToolbar","Tooltip","Drawer","Zoom","Quiz","fire","UserProfile","Articles","Articles2","Articles3","Articles4","Articles5","Alert","makeStyles","InstructionsModal","List","Divider","SideProfileDrawer","Welcome","constructor","props","changeToquiz1","setState","level1","level2","level3","level4","level5","disabled","fakelevel","changeToquiz2","changeToquiz3","changeToquiz4","changeToquiz5","checkQuiznLevel","state","viewquiz","pushTimeDB","ref","database","newRef","push","set","LastLogin","time","console","log","authListener","auth","onAuthStateChanged","user","retrieveData","limitToLast","userUID","currentUser","uid","query","orderByChild","equalTo","on","snapshot","currentState","people","val","i","email","UserEmail","UserAnswer","Questions","Question","id","ID","Score","levelRook","UserLevel","levelStudent","UserLevelStudent","levelIntermediate","UserLevelIntermediate","levelExpert","UserLevelExpert","levelMaster","UserLevelMaster","rank","RankValue","lastLogin","rankData","dataHasLoaded","changetoQuiz","article1","article2","article3","article4","article5","changetoProfile","viewProfile","logout","e","preventDefault","signOut","hideQuizButton","hideQuiz","articelState","clickedrookie","clickedstudent","clickedinterm","clickedexpert","clickedmaster","handleDisableValue","scores","limitedQuestion","Math","round","level","quizCompleted","loadNextfromChild","data","userLevel2","userLevel3","map","person","modalInstruction","viewModal","closeModal","date","Date","componentDidMount","timerID","setInterval","tick","componentWillUnmount","clearInterval","render","STUDENT","INTERM","EXPERT","MASTER","renderData","index","fontSize","toLocaleTimeString"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,QAAT,QAAyB,gBAAzB,C,CACA;;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,MAAtB,EAA8BC,aAA9B,QAAmD,iBAAnD;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAOC,iBAAP,MAA8B,2BAA9B;;AACA,MAAMC,OAAN,SAAsBxB,SAAtB,CAAgC;AAC9ByB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAuBnBC,aAvBmB,GAuBH,MAAM;AACpB,WAAKC,QAAL,CAAc;AACZC,QAAAA,MAAM,EAAE,IADI;AAEZC,QAAAA,MAAM,EAAE,KAFI;AAGZC,QAAAA,MAAM,EAAE,KAHI;AAIZC,QAAAA,MAAM,EAAE,KAJI;AAKZC,QAAAA,MAAM,EAAE,KALI;AAMZC,QAAAA,QAAQ,EAAE,KANE;AAOZC,QAAAA,SAAS,EAAE;AAPC,OAAd;AASD,KAjCkB;;AAAA,SAmCnBC,aAnCmB,GAmCH,MAAM;AACpB,WAAKR,QAAL,CAAc;AACZC,QAAAA,MAAM,EAAE,KADI;AAEZC,QAAAA,MAAM,EAAE,IAFI;AAGZC,QAAAA,MAAM,EAAE,KAHI;AAIZC,QAAAA,MAAM,EAAE,KAJI;AAKZC,QAAAA,MAAM,EAAE,KALI;AAMZC,QAAAA,QAAQ,EAAE,KANE;AAOZC,QAAAA,SAAS,EAAE;AAPC,OAAd;AASD,KA7CkB;;AAAA,SA+CnBE,aA/CmB,GA+CH,MAAM;AACpB,WAAKT,QAAL,CAAc;AACZC,QAAAA,MAAM,EAAE,KADI;AAEZC,QAAAA,MAAM,EAAE,KAFI;AAGZC,QAAAA,MAAM,EAAE,IAHI;AAIZC,QAAAA,MAAM,EAAE,KAJI;AAKZC,QAAAA,MAAM,EAAE,KALI;AAMZC,QAAAA,QAAQ,EAAE,KANE;AAOZC,QAAAA,SAAS,EAAE;AAPC,OAAd;AASD,KAzDkB;;AAAA,SA0DnBG,aA1DmB,GA0DH,MAAM;AACpB,WAAKV,QAAL,CAAc;AACZC,QAAAA,MAAM,EAAE,KADI;AAEZC,QAAAA,MAAM,EAAE,KAFI;AAGZC,QAAAA,MAAM,EAAE,KAHI;AAIZC,QAAAA,MAAM,EAAE,IAJI;AAKZC,QAAAA,MAAM,EAAE,KALI;AAMZC,QAAAA,QAAQ,EAAE,KANE;AAOZC,QAAAA,SAAS,EAAE;AAPC,OAAd;AASD,KApEkB;;AAAA,SAqEnBI,aArEmB,GAqEH,MAAM;AACpB,WAAKX,QAAL,CAAc;AACZC,QAAAA,MAAM,EAAE,KADI;AAEZC,QAAAA,MAAM,EAAE,KAFI;AAGZC,QAAAA,MAAM,EAAE,KAHI;AAIZC,QAAAA,MAAM,EAAE,KAJI;AAKZC,QAAAA,MAAM,EAAE,IALI;AAMZC,QAAAA,QAAQ,EAAE,KANE;AAOZC,QAAAA,SAAS,EAAE;AAPC,OAAd;AASD,KA/EkB;;AAAA,SAgFnBK,eAhFmB,GAgFD,MAAM;AACtB,UACG,KAAKC,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWZ,MAAnC,IACC,KAAKY,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWX,MADnC,IAEC,KAAKW,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWV,MAFnC,IAGC,KAAKU,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWT,MAHnC,IAIC,KAAKS,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWR,MALrC,EAME;AACA,aAAKL,QAAL,CAAc;AACZc,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;AACF,KA5FkB;;AAAA,SA4GnBC,UA5GmB,GA4GN,MAAM;AACjB,UAAIC,GAAG,GAAGjC,IAAI,CAACkC,QAAL,GAAgBD,GAAhB,CAAoB,MAApB,CAAV;AACA,UAAIE,MAAM,GAAGF,GAAG,CAACG,IAAJ,EAAb;AAEAD,MAAAA,MAAM,CAACE,GAAP,CAAW;AACTC,QAAAA,SAAS,EAAE,KAAKvB,KAAL,CAAWwB;AADb,OAAX;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD,KApHkB;;AAAA,SAqHnBC,YArHmB,GAqHJ,MAAM;AACnB;AACA1C,MAAAA,IAAI,CAAC2C,IAAL,GAAYC,kBAAZ,CAA+BC,IAAI,IAAI;AACrC,YAAIA,IAAJ,EAAU;AACR,eAAK5B,QAAL,CAAc;AACZ4B,YAAAA;AADY,WAAd;AAIA,eAAKb,UAAL;AACD,SAND,MAMO;AACL,eAAKf,QAAL,CAAc;AAAE4B,YAAAA,IAAI,EAAE;AAAR,WAAd;AACD;;AACD,eAAOA,IAAP;AACD,OAXD;AAYD,KAnIkB;;AAAA,SAoInBC,YApImB,GAoIJ,MAAM;AACnB9C,MAAAA,IAAI,CAAC2C,IAAL,GAAYC,kBAAZ,CAA+BC,IAAI,IAAI;AACrC,YAAIA,IAAJ,EAAU;AACR,cAAIZ,GAAG,GAAGjC,IAAI,CACXkC,QADO,GAEPD,GAFO,CAEH,MAFG,EAGPc,WAHO,CAGK,CAHL,CAAV,CADQ,CAKR;;AAEA,cAAIC,OAAO,GAAGhD,IAAI,CAAC2C,IAAL,GAAYM,WAAZ,CAAwBC,GAAtC;AACA,cAAIC,KAAK,GAAGlB,GAAG,CAACmB,YAAJ,CAAiB,IAAjB,EAAuBC,OAAvB,CAA+BL,OAA/B,CAAZ,CARQ,CAQ6C;;AACrDR,UAAAA,OAAO,CAACC,GAAR,CAAYO,OAAZ;AACAG,UAAAA,KAAK,CAACG,EAAN,CAAS,OAAT,EAAkBC,QAAQ,IAAI;AAC5B,gBAAIC,YAAY,GAAG,KAAK1B,KAAL,CAAW2B,MAA9B;AAEA,kBAAMR,WAAW,GAAGM,QAAQ,CAACG,GAAT,EAApB;;AACA,iBAAK,IAAIC,CAAT,IAAcV,WAAd,EAA2B;AACzBO,cAAAA,YAAY,CAACpB,IAAb,CAAkB;AAChBwB,gBAAAA,KAAK,EAAEX,WAAW,CAACU,CAAD,CAAX,CAAeE,SADN;AAEhBC,gBAAAA,UAAU,EAAEb,WAAW,CAACU,CAAD,CAAX,CAAeG,UAFX;AAGhBC,gBAAAA,SAAS,EAAEd,WAAW,CAACU,CAAD,CAAX,CAAeK,QAHV;AAIhBC,gBAAAA,EAAE,EAAEhB,WAAW,CAACU,CAAD,CAAX,CAAeO,EAJH;AAKhBC,gBAAAA,KAAK,EAAElB,WAAW,CAACU,CAAD,CAAX,CAAeQ,KALN;AAMhBC,gBAAAA,SAAS,EAAEnB,WAAW,CAACU,CAAD,CAAX,CAAeU,SANV;AAOhBC,gBAAAA,YAAY,EAAErB,WAAW,CAACU,CAAD,CAAX,CAAeY,gBAPb;AAQhBC,gBAAAA,iBAAiB,EAAEvB,WAAW,CAACU,CAAD,CAAX,CAAec,qBARlB;AAShBC,gBAAAA,WAAW,EAAEzB,WAAW,CAACU,CAAD,CAAX,CAAegB,eATZ;AAUhBC,gBAAAA,WAAW,EAAE3B,WAAW,CAACU,CAAD,CAAX,CAAekB,eAVZ;AAWhBC,gBAAAA,IAAI,EAAE7B,WAAW,CAACU,CAAD,CAAX,CAAeoB,SAXL;AAYhBC,gBAAAA,SAAS,EAAE/B,WAAW,CAACU,CAAD,CAAX,CAAerB;AAZV,eAAlB;AAcD,aAnB2B,CAoB5B;;;AACAE,YAAAA,OAAO,CAACC,GAAR,CAAYe,YAAZ;AACA,iBAAKyB,QAAL,GAtB4B,CAsBX;;AAEjB,iBAAKhE,QAAL,CAAc;AACZwC,cAAAA,MAAM,EAAED,YADI;AAEZ0B,cAAAA,aAAa,EAAE;AAFH,aAAd;AAID,WA5BD;AA6BD,SAvCD,MAuCO;AACL1C,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD;AACF,OA3CD;AA4CD,KAjLkB;;AAAA,SAmLnB0C,YAnLmB,GAmLJ,MAAM;AACnB,WAAKlE,QAAL,CAAc;AACZc,QAAAA,QAAQ,EAAE,CAAC,KAAKD,KAAL,CAAWC,QADV;AAEZqD,QAAAA,QAAQ,EAAE,KAFE;AAGZC,QAAAA,QAAQ,EAAE,KAHE;AAIZC,QAAAA,QAAQ,EAAE,KAJE;AAKZC,QAAAA,QAAQ,EAAE,KALE;AAMZC,QAAAA,QAAQ,EAAE;AANE,OAAd;AAQD,KA5LkB;;AAAA,SA6LnBC,eA7LmB,GA6LD,MAAM;AACtB,WAAKxE,QAAL,CAAc;AACZyE,QAAAA,WAAW,EAAE,CAAC,KAAK5D,KAAL,CAAW4D;AADb,OAAd;AAGD,KAjMkB;;AAAA,SAmMnBC,MAnMmB,GAmMVC,CAAC,IAAI;AACZA,MAAAA,CAAC,CAACC,cAAF;AACA7F,MAAAA,IAAI,CAAC2C,IAAL,GAAYmD,OAAZ;AACAtD,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,KAvMkB;;AAAA,SAwMnBsD,cAxMmB,GAwMF,MAAM;AACrB,WAAK9E,QAAL,CAAc;AACZ+E,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KA5MkB;;AAAA,SA6MnBC,YA7MmB,GA6MJ,MAAM;AACnB,UAAI,KAAKnE,KAAL,CAAWZ,MAAf,EAAuB;AACrB,aAAKD,QAAL,CAAc;AACZmE,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,QAAQ,EAAE,KAFE;AAGZC,UAAAA,QAAQ,EAAE,KAHE;AAIZC,UAAAA,QAAQ,EAAE,KAJE;AAKZC,UAAAA,QAAQ,EAAE;AALE,SAAd;AAOD,OARD,MAQO,IAAI,KAAK1D,KAAL,CAAWX,MAAf,EAAuB;AAC5B,aAAKF,QAAL,CAAc;AACZmE,UAAAA,QAAQ,EAAE,KADE;AAEZC,UAAAA,QAAQ,EAAE,IAFE;AAGZC,UAAAA,QAAQ,EAAE,KAHE;AAIZC,UAAAA,QAAQ,EAAE,KAJE;AAKZC,UAAAA,QAAQ,EAAE;AALE,SAAd;AAOD,OARM,MAQA,IAAI,KAAK1D,KAAL,CAAWV,MAAf,EAAuB;AAC5B,aAAKH,QAAL,CAAc;AACZmE,UAAAA,QAAQ,EAAE,KADE;AAEZC,UAAAA,QAAQ,EAAE,KAFE;AAGZC,UAAAA,QAAQ,EAAE,IAHE;AAIZC,UAAAA,QAAQ,EAAE,KAJE;AAKZC,UAAAA,QAAQ,EAAE;AALE,SAAd;AAOD,OARM,MAQA,IAAI,KAAK1D,KAAL,CAAWT,MAAf,EAAuB;AAC5B,aAAKJ,QAAL,CAAc;AACZmE,UAAAA,QAAQ,EAAE,KADE;AAEZC,UAAAA,QAAQ,EAAE,KAFE;AAGZC,UAAAA,QAAQ,EAAE,KAHE;AAIZC,UAAAA,QAAQ,EAAE,IAJE;AAKZC,UAAAA,QAAQ,EAAE;AALE,SAAd;AAOD,OARM,MAQA,IAAI,KAAK1D,KAAL,CAAWR,MAAf,EAAuB;AAC5B,aAAKL,QAAL,CAAc;AACZmE,UAAAA,QAAQ,EAAE,KADE;AAEZC,UAAAA,QAAQ,EAAE,KAFE;AAGZC,UAAAA,QAAQ,EAAE,KAHE;AAIZC,UAAAA,QAAQ,EAAE,KAJE;AAKZC,UAAAA,QAAQ,EAAE;AALE,SAAd;AAOD;AACF,KAvPkB;;AAAA,SAwPnBU,aAxPmB,GAwPH,MAAM;AACpB1D,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,KA1PkB;;AAAA,SA2PnB0D,cA3PmB,GA2PF,MAAM;AACrB3D,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD,KA7PkB;;AAAA,SA8PnB2D,aA9PmB,GA8PH,MAAM;AACpB5D,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,KAhQkB;;AAAA,SAiQnB4D,aAjQmB,GAiQH,MAAM;AACpB7D,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,KAnQkB;;AAAA,SAoQnB6D,aApQmB,GAoQH,MAAM;AACpB9D,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,KAtQkB;;AAAA,SAwQnB8D,kBAxQmB,GAwQE,CAACC,MAAD,EAASC,eAAT,KAA6B;AAChD,UAAID,MAAM,IAAIE,IAAI,CAACC,KAAL,CAAWF,eAAe,GAAG,GAA7B,CAAV,IAA+C,KAAK3E,KAAL,CAAW8E,KAAX,GAAmB,CAAtE,EAAyE;AACvEpE,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBiE,IAAI,CAACC,KAAL,CAAWF,eAAe,GAAG,GAA7B,CAAlC;AACA,aAAKxF,QAAL,CAAc;AACZ2F,UAAAA,KAAK,EAAE,KAAK9E,KAAL,CAAW8E,KAAX,GAAmB;AADd,SAAd;AAGD;;AACD,UACEJ,MAAM,IAAIE,IAAI,CAACC,KAAL,CAAWF,eAAe,GAAG,GAA7B,CAAV,IACA,KAAK3E,KAAL,CAAWN,SAAX,GAAuB,KAAKM,KAAL,CAAW8E,KAFpC,EAGE;AACApE,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuBiE,IAAI,CAACC,KAAL,CAAWF,eAAe,GAAG,GAA7B,CAAnC;AACA,aAAKxF,QAAL,CAAc;AACZ2F,UAAAA,KAAK,EAAE,KAAK9E,KAAL,CAAW8E;AADN,SAAd;AAGD,OARD,MAQO,IACLJ,MAAM,IAAIE,IAAI,CAACC,KAAL,CAAWF,eAAe,GAAG,GAA7B,CAAV,IACA,KAAK3E,KAAL,CAAW8E,KAAX,GAAmB,CAFd,EAGL;AACApE,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuBiE,IAAI,CAACC,KAAL,CAAWF,eAAe,GAAG,GAA7B,CAAnC;AACA,aAAKxF,QAAL,CAAc;AACZ4F,UAAAA,aAAa,EAAE;AADH,SAAd;AAGD;;AACDrE,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmB,KAAKX,KAAL,CAAW8E,KAA1C;AACD,KAjSkB;;AAAA,SAkSnBE,iBAlSmB,GAkSCC,IAAI,IAAI;AAC1B;AACA,UAAI,KAAKjF,KAAL,CAAWkF,UAAf,EAA2B;AACzB,aAAK/F,QAAL,CAAc;AACZoE,UAAAA,QAAQ,EAAE0B;AADE,SAAd;AAGD,OAJD,MAIO,IAAI,KAAKjF,KAAL,CAAWmF,UAAf,EAA2B;AAChC,aAAKhG,QAAL,CAAc;AACZqE,UAAAA,QAAQ,EAAEyB;AADE,SAAd;AAGD;AACF,KA7SkB;;AAAA,SA8SnB9B,QA9SmB,GA8SR,MAAM;AACf,WAAKnD,KAAL,CAAW2B,MAAX,CAAkByD,GAAlB,CAAsBC,MAAM,IAAI;AAC9B,aAAKlG,QAAL,CAAc;AACZ2F,UAAAA,KAAK,EAAEO,MAAM,CAACrC;AADF,SAAd;AAGAtC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAU,KAAKX,KAAL,CAAW8E,KAAjC;AACD,OALD;AAMA;;;;;;AAMD,KA3TkB;;AAAA,SA6TnBQ,gBA7TmB,GA6TA,MAAM;AACvB,WAAKnG,QAAL,CAAc;AACZoG,QAAAA,SAAS,EAAE,CAAC,KAAKvF,KAAL,CAAWuF;AADX,OAAd;AAGD,KAjUkB;;AAAA,SAkUnBC,UAlUmB,GAkUN,MAAM;AACjB,WAAKrG,QAAL,CAAc;AAAEoG,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KApUkB;;AAEjB,SAAKvF,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,KADC;AAEX0B,MAAAA,MAAM,EAAE,EAFG;AAGXyB,MAAAA,aAAa,EAAE,KAHJ;AAIXrC,MAAAA,IAAI,EAAE,EAJK;AAKXtB,MAAAA,QAAQ,EAAE,IALC;AAMXgG,MAAAA,IAAI,EAAE,IAAIC,IAAJ,EANK;AAOXX,MAAAA,aAAa,EAAE,KAPJ;AAQXD,MAAAA,KAAK,EAAE,CARI;AASXpF,MAAAA,SAAS,EAAE,CATA;AAUX4D,MAAAA,QAAQ,EAAE,IAVC;AAWXiC,MAAAA,SAAS,EAAE,KAXA;AAYXhC,MAAAA,QAAQ,EAAE,KAZC;AAaXC,MAAAA,QAAQ,EAAE,KAbC;AAcXC,MAAAA,QAAQ,EAAE,KAdC;AAeXC,MAAAA,QAAQ,EAAE,KAfC;AAgBXQ,MAAAA,QAAQ,EAAE,IAhBC;AAiBXN,MAAAA,WAAW,EAAE;AAjBF,KAAb;AAmBD;;AAwED+B,EAAAA,iBAAiB,GAAG;AAClB,SAAK/E,YAAL;AACA,SAAKI,YAAL;AACA,SAAK4E,OAAL,GAAeC,WAAW,CAAC,MAAM,KAAKC,IAAL,EAAP,EAAoB,IAApB,CAA1B;AACApF,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD;;AACDoF,EAAAA,oBAAoB,GAAG;AACrBC,IAAAA,aAAa,CAAC,KAAKJ,OAAN,CAAb;AACD;;AAEDE,EAAAA,IAAI,GAAG;AACL,SAAK3G,QAAL,CAAc;AACZsG,MAAAA,IAAI,EAAE,IAAIC,IAAJ;AADM,KAAd;AAGD;;AA2NDO,EAAAA,MAAM,GAAG;AACP,UAAMC,OAAO,GAAG,CAAhB;AACA,UAAMC,MAAM,GAAG,CAAf;AACA,UAAMC,MAAM,GAAG,CAAf;AACA,UAAMC,MAAM,GAAG,CAAf;AAEA,QAAIC,UAAU,GAAG,KAAKtG,KAAL,CAAW2B,MAAX,CAAkByD,GAAlB,CAAsB,CAACC,MAAD,EAASkB,KAAT,KAAmB;AACxD,aACE;AAAK,QAAA,EAAE,EAAC,iBAAR;AAA0B,QAAA,GAAG,EAAEA,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAW4D,WAAX,GACC,oBAAC,WAAD;AACE,QAAA,SAAS,EAAC,aADZ;AAEE,QAAA,SAAS,EAAEyB,MAAM,CAAC/C,SAFpB;AAGE,QAAA,YAAY,EAAE+C,MAAM,CAAC7C,YAHvB;AAIE,QAAA,iBAAiB,EAAE6C,MAAM,CAAC3C,iBAJ5B;AAKE,QAAA,WAAW,EAAE2C,MAAM,CAACzC,WALtB;AAME,QAAA,WAAW,EAAEyC,MAAM,CAACvC,WANtB;AAOE,QAAA,KAAK,EAAEuC,MAAM,CAAChD,KAPhB;AAQE,QAAA,QAAQ,EAAEgD,MAAM,CAACpD,SARnB;AASE,QAAA,KAAK,EAAEoD,MAAM,CAACvD,KAThB;AAUE,QAAA,IAAI,EAAEuD,MAAM,CAACnC,SAVf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAaG,IAdN,CADF;AAkBD,KAnBgB,CAAjB,CANO,CA2BP;;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,EAAE,EAAC,SAAvB;AAAiC,MAAA,OAAO,EAAC,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAyB,MAAA,KAAK,EAAE;AAAEsD,QAAAA,QAAQ,EAAE;AAAZ,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,aAAD;AAAe,MAAA,SAAS,EAAC,cAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,EAEE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKpC,aAAL;AACA,aAAKlF,aAAL;AACA,aAAKiF,YAAL;AACA,aAAKpE,eAAL,GAJa,CAKb;AACD,OARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAaY,GAbZ,EAcE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,QAAQ,EAAE,KAAKC,KAAL,CAAW8E,KAAX,GAAmBoB,OAF/B;AAGE,MAAA,OAAO,EAAE,MAAM;AACb,aAAK7B,cAAL;AACA,aAAKF,YAAL;AACA,aAAKxE,aAAL;AACA,aAAKI,eAAL,GAJa,CAMb;AACD,OAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAdF,EA2BY,GA3BZ,EA4BE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,QAAQ,EAAE,KAAKC,KAAL,CAAW8E,KAAX,GAAmBqB,MAF/B;AAGE,MAAA,OAAO,EAAE,MAAM;AACb,aAAK7B,aAAL;AACA,aAAK1E,aAAL;AACA,aAAKuE,YAAL;AACA,aAAKpE,eAAL,GAJa,CAKb;AACD,OATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA5BF,EAwCY,GAxCZ,EAyCE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,QAAQ,EAAE,KAAKC,KAAL,CAAW8E,KAAX,GAAmBsB,MAF/B;AAGE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKvG,aAAL;AACA,aAAKsE,YAAL;AACA,aAAKI,aAAL;AACA,aAAKxE,eAAL,GAJa,CAKb;AACD,OATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzCF,EAqDY,GArDZ,EAsDE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,QAAQ,EAAE,KAAKC,KAAL,CAAW8E,KAAX,GAAmBuB,MAF/B;AAGE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKvG,aAAL;AACA,aAAK0E,aAAL;AACA,aAAKL,YAAL;AACA,aAAKpE,eAAL,GAJa,CAKb;AACD,OATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtDF,CAFF,CADF,EAwEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,EAEE,oBAAC,OAAD;AACE,MAAA,mBAAmB,EAAE/B,IADvB;AAEE,MAAA,KAAK,EAAC,6BAFR;AAGE,MAAA,KAAK,MAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKmB,QAAL,CAAc;AAAEoG,QAAAA,SAAS,EAAE;AAAb,OAAd,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CALF,CAFF,CAxEF,EAoFE,oBAAC,OAAD;AACE,MAAA,mBAAmB,EAAEvH,IADvB;AAEE,MAAA,KAAK,EAAC,wBAFR;AAGE,MAAA,KAAK,MAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAK6F,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACS,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADT,CADF,CALF,CApFF,EA+FE,oBAAC,OAAD;AACE,MAAA,mBAAmB,EAAE7F,IADvB;AAEE,MAAA,KAAK,EAAC,wBAFR;AAGE,MAAA,KAAK,MAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAK2F,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACU,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADV,CADF,CALF,CA/FF,CADF,CADF,EAgIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAhIF,EAmIG,KAAK3D,KAAL,CAAWsD,QAAX,GAAsB,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAAqC,IAnIxC,EAoIG,KAAKtD,KAAL,CAAWuD,QAAX,GAAsB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAAsC,IApIzC,EAqIG,KAAKvD,KAAL,CAAWwD,QAAX,GAAsB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAAsC,IArIzC,EAsIG,KAAKxD,KAAL,CAAWyD,QAAX,GAAsB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAAsC,IAtIzC,EAuIG,KAAKzD,KAAL,CAAW0D,QAAX,GAAsB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAAsC,IAvIzC,EAwIG,KAAK1D,KAAL,CAAWuF,SAAX,GACC,oBAAC,iBAAD;AACE,MAAA,MAAM,EAAE,KAAKvF,KAAL,CAAWuF,SADrB;AAEE,MAAA,MAAM,EAAE,KAAKC,UAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAKG,IA7IN,EA+II;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKxF,KAAL,CAAW4D,WAAX,GAAyB0C,UAAzB,GAAsC,IADzC,EAEG,KAAKtG,KAAL,CAAW4D,WAAX,GACC,oBAAC,iBAAD;AAAmB,MAAA,IAAI,EAAE0C,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAEG,IAJN,CA/IJ,EAuJE,oBAAC,MAAD;AACE,MAAA,EAAE,EAAC,aADL;AAEE,MAAA,QAAQ,EAAE,KAAKtG,KAAL,CAAWP,QAFvB;AAGE,MAAA,OAAO,EAAE,MAAM;AACb,aAAK4D,YAAL;AACA,aAAKY,cAAL;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAvJF,EAkKG,KAAKjE,KAAL,CAAWC,QAAX,GACC,oBAAC,IAAD;AACE,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWyF,IAAX,CAAgBgB,kBAAhB,EADR;AAEE,MAAA,YAAY,EAAE,KAAKzG,KAAL,CAAW+E,aAF3B;AAGE,MAAA,QAAQ,EAAE,KAAKd,cAHjB;AAIE,MAAA,SAAS,EAAE,KAAKZ,YAJlB;AAKE,MAAA,UAAU,EAAE,KAAKc,YALnB;AAME,MAAA,SAAS,EAAE,KAAKnE,KAAL,CAAW8E,KANxB;AAOE,MAAA,YAAY,EAAE,KAAKE,iBAPrB;AAQE,MAAA,kBAAkB,EAAE,KAAKP,kBAR3B;AASE,MAAA,UAAU,EAAE,KAAKzE,KAAL,CAAWZ,MATzB;AAUE,MAAA,UAAU,EAAE,KAAKY,KAAL,CAAWX,MAVzB;AAWE,MAAA,UAAU,EAAE,KAAKW,KAAL,CAAWV,MAXzB;AAYE,MAAA,UAAU,EAAE,KAAKU,KAAL,CAAWT,MAZzB;AAaE,MAAA,UAAU,EAAE,KAAKS,KAAL,CAAWR,MAbzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAgBG,IAlLN,CADF;AAsLD;;AA1hB6B;;AA4hBhC,eAAeT,OAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./welcome.css\";\nimport { MdPerson } from \"react-icons/md\";\nimport { FiLogOut } from \"react-icons/fi\";\n//import Loader from \"react-loader-spinner\";\nimport { Button, Nav, Navbar, ButtonToolbar } from \"react-bootstrap\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Quiz from \"../quiz/quiz\";\nimport fire from \"../../config/fire\";\nimport UserProfile from \"../quiz/userProfile\";\nimport Articles from \"./articles\";\nimport Articles2 from \"./articles2\";\nimport Articles3 from \"./articles3\";\nimport Articles4 from \"./articles4\";\nimport Articles5 from \"./articles5\";\nimport { Alert } from \"reactstrap\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InstructionsModal from \"./instructionsmodal\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport SideProfileDrawer from \"../home/sideProfileDrawer\";\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewquiz: false,\n      people: [],\n      dataHasLoaded: false,\n      user: {},\n      disabled: true,\n      date: new Date(),\n      quizCompleted: false,\n      level: 0,\n      fakelevel: 0,\n      article1: true,\n      viewModal: false,\n      article2: false,\n      article3: false,\n      article4: false,\n      article5: false,\n      hideQuiz: true,\n      viewProfile: false\n    };\n  }\n\n  changeToquiz1 = () => {\n    this.setState({\n      level1: true,\n      level2: false,\n      level3: false,\n      level4: false,\n      level5: false,\n      disabled: false,\n      fakelevel: 0\n    });\n  };\n\n  changeToquiz2 = () => {\n    this.setState({\n      level1: false,\n      level2: true,\n      level3: false,\n      level4: false,\n      level5: false,\n      disabled: false,\n      fakelevel: 1\n    });\n  };\n\n  changeToquiz3 = () => {\n    this.setState({\n      level1: false,\n      level2: false,\n      level3: true,\n      level4: false,\n      level5: false,\n      disabled: false,\n      fakelevel: 2\n    });\n  };\n  changeToquiz4 = () => {\n    this.setState({\n      level1: false,\n      level2: false,\n      level3: false,\n      level4: true,\n      level5: false,\n      disabled: false,\n      fakelevel: 3\n    });\n  };\n  changeToquiz5 = () => {\n    this.setState({\n      level1: false,\n      level2: false,\n      level3: false,\n      level4: false,\n      level5: true,\n      disabled: false,\n      fakelevel: 4\n    });\n  };\n  checkQuiznLevel = () => {\n    if (\n      (this.state.viewquiz && this.state.level1) ||\n      (this.state.viewquiz && this.state.level2) ||\n      (this.state.viewquiz && this.state.level3) ||\n      (this.state.viewquiz && this.state.level4) ||\n      (this.state.viewquiz && this.state.level5)\n    ) {\n      this.setState({\n        viewquiz: false\n      });\n    }\n  };\n  componentDidMount() {\n    this.authListener();\n    this.retrieveData();\n    this.timerID = setInterval(() => this.tick(), 1000);\n    console.log(\"Data mounted\");\n  }\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      date: new Date()\n    });\n  }\n  pushTimeDB = () => {\n    var ref = fire.database().ref(\"data\");\n    var newRef = ref.push();\n\n    newRef.set({\n      LastLogin: this.props.time\n    });\n    console.log(\"Sent to Database\");\n  };\n  authListener = () => {\n    //checks if user is already logged in 0n browser\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n\n        this.pushTimeDB();\n      } else {\n        this.setState({ user: null });\n      }\n      return user;\n    });\n  };\n  retrieveData = () => {\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        var ref = fire\n          .database()\n          .ref(\"data\")\n          .limitToLast(1);\n        //takes the last data in DB\n\n        var userUID = fire.auth().currentUser.uid;\n        var query = ref.orderByChild(\"ID\").equalTo(userUID); //retrieves data about only the current logged in user\n        console.log(userUID);\n        query.on(\"value\", snapshot => {\n          let currentState = this.state.people;\n\n          const currentUser = snapshot.val();\n          for (let i in currentUser) {\n            currentState.push({\n              email: currentUser[i].UserEmail,\n              UserAnswer: currentUser[i].UserAnswer,\n              Questions: currentUser[i].Question,\n              id: currentUser[i].ID,\n              Score: currentUser[i].Score,\n              levelRook: currentUser[i].UserLevel,\n              levelStudent: currentUser[i].UserLevelStudent,\n              levelIntermediate: currentUser[i].UserLevelIntermediate,\n              levelExpert: currentUser[i].UserLevelExpert,\n              levelMaster: currentUser[i].UserLevelMaster,\n              rank: currentUser[i].RankValue,\n              lastLogin: currentUser[i].LastLogin\n            });\n          }\n          // currentState.push(user);\n          console.log(currentState);\n          this.rankData(); //setting rank value from DB\n\n          this.setState({\n            people: currentState,\n            dataHasLoaded: true\n          });\n        });\n      } else {\n        console.log(\"no user\");\n      }\n    });\n  };\n\n  changetoQuiz = () => {\n    this.setState({\n      viewquiz: !this.state.viewquiz,\n      article1: false,\n      article2: false,\n      article3: false,\n      article4: false,\n      article5: false\n    });\n  };\n  changetoProfile = () => {\n    this.setState({\n      viewProfile: !this.state.viewProfile\n    });\n  };\n\n  logout = e => {\n    e.preventDefault();\n    fire.auth().signOut();\n    console.log(\"Logged out\");\n  };\n  hideQuizButton = () => {\n    this.setState({\n      hideQuiz: false\n    });\n  };\n  articelState = () => {\n    if (this.state.level1) {\n      this.setState({\n        article1: true,\n        article2: false,\n        article3: false,\n        article4: false,\n        article5: false\n      });\n    } else if (this.state.level2) {\n      this.setState({\n        article1: false,\n        article2: true,\n        article3: false,\n        article4: false,\n        article5: false\n      });\n    } else if (this.state.level3) {\n      this.setState({\n        article1: false,\n        article2: false,\n        article3: true,\n        article4: false,\n        article5: false\n      });\n    } else if (this.state.level4) {\n      this.setState({\n        article1: false,\n        article2: false,\n        article3: false,\n        article4: true,\n        article5: false\n      });\n    } else if (this.state.level5) {\n      this.setState({\n        article1: false,\n        article2: false,\n        article3: false,\n        article4: false,\n        article5: true\n      });\n    }\n  };\n  clickedrookie = () => {\n    console.log(\"clicked rookie\");\n  };\n  clickedstudent = () => {\n    console.log(\"clicked student\");\n  };\n  clickedinterm = () => {\n    console.log(\"clicked interm\");\n  };\n  clickedexpert = () => {\n    console.log(\"clicked expert\");\n  };\n  clickedmaster = () => {\n    console.log(\"clicked master\");\n  };\n\n  handleDisableValue = (scores, limitedQuestion) => {\n    if (scores >= Math.round(limitedQuestion * 0.5) && this.state.level < 4) {\n      console.log(\"entered level up \" + Math.round(limitedQuestion * 0.5));\n      this.setState({\n        level: this.state.level + 1\n      });\n    }\n    if (\n      scores >= Math.round(limitedQuestion * 0.5) &&\n      this.state.fakelevel < this.state.level\n    ) {\n      console.log(\"entered fakelevel \" + Math.round(limitedQuestion * 0.5));\n      this.setState({\n        level: this.state.level\n      });\n    } else if (\n      scores >= Math.round(limitedQuestion * 0.5) &&\n      this.state.level > 4\n    ) {\n      console.log(\"entered max level \" + Math.round(limitedQuestion * 0.5));\n      this.setState({\n        quizCompleted: true\n      });\n    }\n    console.log(\"current level \" + this.state.level);\n  };\n  loadNextfromChild = data => {\n    //if(this.state.)\n    if (this.state.userLevel2) {\n      this.setState({\n        article2: data\n      });\n    } else if (this.state.userLevel3) {\n      this.setState({\n        article3: data\n      });\n    }\n  };\n  rankData = () => {\n    this.state.people.map(person => {\n      this.setState({\n        level: person.rank\n      });\n      console.log(\"Rank \" + this.state.level);\n    });\n    /*\n    this.setState({\n      level: this.state.people[0].rank\n    });\n    console.log(this.state.level);\n  */\n  };\n\n  modalInstruction = () => {\n    this.setState({\n      viewModal: !this.state.viewModal\n    });\n  };\n  closeModal = () => {\n    this.setState({ viewModal: false });\n  };\n\n  render() {\n    const STUDENT = 1;\n    const INTERM = 2;\n    const EXPERT = 3;\n    const MASTER = 4;\n\n    let renderData = this.state.people.map((person, index) => {\n      return (\n        <div id=\"userProfileComp\" key={index}>\n          {this.state.viewProfile ? (\n            <UserProfile\n              className=\"userProfile\"\n              levelRook={person.levelRook}\n              levelStudent={person.levelStudent}\n              levelIntermediate={person.levelIntermediate}\n              levelExpert={person.levelExpert}\n              levelMaster={person.levelMaster}\n              score={person.Score}\n              question={person.Questions}\n              email={person.email}\n              time={person.lastLogin}\n            />\n          ) : null}\n        </div>\n      );\n    });\n\n    // let loadingSpinner = <Loader id=\"loader\" type=\"ThreeDots\" color=\"red \" />;\n\n    return (\n      <div>\n        <div>\n          <Navbar id=\"navbar\" bg=\"primary\" variant=\"dark\">\n            <Nav className=\"mr-auto\" style={{ fontSize: 25 }}>\n              Welcome\n              <ButtonToolbar className=\"levelButtons\">\n                {\" \"}\n                <Button\n                  className=\"btnLevel\"\n                  onClick={() => {\n                    this.clickedrookie();\n                    this.changeToquiz1();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //       this.hideQuizButton();\n                  }}\n                >\n                  Rookie\n                </Button>{\" \"}\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < STUDENT}\n                  onClick={() => {\n                    this.clickedstudent();\n                    this.articelState();\n                    this.changeToquiz2();\n                    this.checkQuiznLevel();\n\n                    //    this.hideQuizButton();\n                  }}\n                >\n                  Student\n                </Button>{\" \"}\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < INTERM}\n                  onClick={() => {\n                    this.clickedinterm();\n                    this.changeToquiz3();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //    this.hideQuizButton();\n                  }}\n                >\n                  Intermediate\n                </Button>{\" \"}\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < EXPERT}\n                  onClick={() => {\n                    this.changeToquiz4();\n                    this.articelState();\n                    this.clickedexpert();\n                    this.checkQuiznLevel();\n                    //    this.hideQuizButton();\n                  }}\n                >\n                  Expert\n                </Button>{\" \"}\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < MASTER}\n                  onClick={() => {\n                    this.changeToquiz5();\n                    this.clickedmaster();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //      this.hideQuizButton();\n                  }}\n                >\n                  Master\n                </Button>\n              </ButtonToolbar>\n            </Nav>\n            <ButtonToolbar>\n              {\" \"}\n              <Tooltip\n                TransitionComponent={Zoom}\n                title=\"Guide on how the Quiz works\"\n                arrow\n              >\n                <Button onClick={() => this.setState({ viewModal: true })}>\n                  <Nav>Instructions</Nav>\n                </Button>\n              </Tooltip>\n            </ButtonToolbar>\n            <Tooltip\n              TransitionComponent={Zoom}\n              title=\"Log out and go to Home\"\n              arrow\n            >\n              <Button onClick={this.logout}>\n                <Nav>\n                  Logout <FiLogOut />\n                </Nav>\n              </Button>\n            </Tooltip>\n            <Tooltip\n              TransitionComponent={Zoom}\n              title=\"View Your Profile Info\"\n              arrow\n            >\n              <Button onClick={this.changetoProfile}>\n                <Nav>\n                  Profile <MdPerson />\n                </Nav>\n              </Button>\n            </Tooltip>\n          </Navbar>\n        </div>\n\n        {/*    <div id=\"userProfileComp\">\n          {this.state.viewProfile ? (\n            <UserProfile\n              className=\"userProfile\"\n              levelRook={this.state.people[0].levelRook}\n              levelStudent={this.state.people[0].levelStudent}\n              levelIntermediate={this.state.people[0].levelIntermediate}\n              levelExpert={this.state.people[0].levelExpert}\n              levelMaster={this.state.people[0].levelMaster}\n              score={this.state.people[0].Score}\n              question={this.state.people[0].Questions}\n              email={this.state.people[0].email}\n            />\n          ) : null}\n        </div>\n          */}\n\n        <div>\n          <Alert variant=\"primary\">Test!</Alert>\n        </div>\n        {this.state.article1 ? <Articles /> : null}\n        {this.state.article2 ? <Articles2 /> : null}\n        {this.state.article3 ? <Articles3 /> : null}\n        {this.state.article4 ? <Articles4 /> : null}\n        {this.state.article5 ? <Articles5 /> : null}\n        {this.state.viewModal ? (\n          <InstructionsModal\n            isOpen={this.state.viewModal}\n            onHide={this.closeModal}\n          />\n        ) : null}\n        {\n          <div>\n            {this.state.viewProfile ? renderData : null}\n            {this.state.viewProfile ? (\n              <SideProfileDrawer data={renderData} />\n            ) : null}\n          </div>\n        }\n        {/*{this.state.hideQuiz ? (*/}\n        <Button\n          id=\"takeQuizbtn\"\n          disabled={this.state.disabled}\n          onClick={() => {\n            this.changetoQuiz();\n            this.hideQuizButton();\n          }}\n        >\n          Take the Quiz\n        </Button>\n        {/*  ) : null} */}\n        {this.state.viewquiz ? (\n          <Quiz\n            time={this.state.date.toLocaleTimeString()}\n            quizFinished={this.state.quizCompleted}\n            tryAgain={this.hideQuizButton}\n            tryAgain2={this.changetoQuiz}\n            articelVal={this.articelState}\n            rankValue={this.state.level}\n            loadNextfrom={this.loadNextfromChild}\n            handleDisableValue={this.handleDisableValue}\n            userLevel1={this.state.level1}\n            userLevel2={this.state.level2}\n            userLevel3={this.state.level3}\n            userLevel4={this.state.level4}\n            userLevel5={this.state.level5}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}