{"ast":null,"code":"var _jsxFileName = \"/home/basil/farmsafety_app/src/components/home/welcome.js\";\nimport React, { Component } from \"react\";\nimport \"./welcome.css\";\nimport { MdPerson } from \"react-icons/md\";\nimport { FiLogOut } from \"react-icons/fi\";\nimport Loader from \"react-loader-spinner\";\nimport { Button, Nav, Navbar, ButtonToolbar, Card } from \"react-bootstrap\"; //import { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\n//import Login from \"../quiz/login\";\n//import Signup from \"../quiz/signup\";\n\nimport Quiz from \"../quiz/quiz\";\nimport fire from \"../../config/fire\";\nimport UserProfile from \"../quiz/userProfile\";\nimport Articles from \"./articles\";\nimport Articles2 from \"./articles2\";\nimport Articles3 from \"./articles3\";\nimport Articles4 from \"./articles4\";\nimport Articles5 from \"./articles5\";\nimport { useState } from \"react\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport InstructionsModal from \"./instructionsmodal\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeToquiz1 = () => {\n      this.setState({\n        level1: true,\n        level2: false,\n        level3: false,\n        level4: false,\n        level5: false,\n        disabled: false\n      });\n    };\n\n    this.changeToquiz2 = () => {\n      this.setState({\n        level1: false,\n        level2: true,\n        level3: false,\n        level4: false,\n        level5: false,\n        disabled: false //   fakelevel: 1\n\n      });\n    };\n\n    this.changeToquiz3 = () => {\n      this.setState({\n        level1: false,\n        level2: false,\n        level3: true,\n        level4: false,\n        level5: false,\n        disabled: false // level: 2\n\n      });\n    };\n\n    this.changeToquiz4 = () => {\n      this.setState({\n        level1: false,\n        level2: false,\n        level3: false,\n        level4: true,\n        level5: false,\n        disabled: false //     level: 3\n\n      });\n    };\n\n    this.changeToquiz5 = () => {\n      this.setState({\n        level1: false,\n        level2: false,\n        level3: false,\n        level4: false,\n        level5: true,\n        disabled: false //   level: 4\n\n      });\n    };\n\n    this.checkQuiznLevel = () => {\n      if (this.state.viewquiz && this.state.level1 || this.state.viewquiz && this.state.level2 || this.state.viewquiz && this.state.level3 || this.state.viewquiz && this.state.level4 || this.state.viewquiz && this.state.level5) {\n        this.setState({\n          viewquiz: false\n        });\n      }\n    };\n\n    this.authListener = () => {\n      //checks if user is already logged in 0n browser\n      fire.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.setState({\n            user\n          });\n        } else {\n          this.setState({\n            user: null\n          });\n        }\n\n        return user;\n      });\n    };\n\n    this.retrieveData = () => {\n      fire.auth().onAuthStateChanged(user => {\n        if (user) {\n          var ref = fire.database().ref(\"data\").limitToLast(1); //takes the last data in DB\n\n          var userUID = fire.auth().currentUser.uid;\n          var query = ref.orderByChild(\"ID\").equalTo(userUID); //retrieves data about only the current logged in user\n\n          console.log(userUID);\n          query.on(\"value\", snapshot => {\n            let currentState = this.state.people;\n            const currentUser = snapshot.val();\n\n            for (let i in currentUser) {\n              currentState.push({\n                email: currentUser[i].UserEmail,\n                UserAnswer: currentUser[i].UserAnswer,\n                Questions: currentUser[i].Question,\n                id: currentUser[i].ID,\n                Score: currentUser[i].Score,\n                levelRook: currentUser[i].UserLevel,\n                levelStudent: currentUser[i].UserLevelStudent,\n                levelIntermediate: currentUser[i].UserLevelIntermediate,\n                levelExpert: currentUser[i].UserLevelExpert,\n                levelMaster: currentUser[i].UserLevelMaster,\n                rank: currentUser[i].RankValue\n              });\n            } // currentState.push(user);\n\n\n            console.log(currentState);\n            this.rankData(); //setting rank value from DB\n\n            this.setState({\n              people: currentState //  dataHasLoaded: true\n\n            });\n          });\n        } else {\n          console.log(\"no user\");\n        }\n      });\n    };\n\n    this.updatedData = () => {\n      var ref = fire.database().ref(\"data\").limitToLast(1); //takes the last data in DB\n\n      var userUID = fire.auth().currentUser.uid;\n      var query = ref.orderByChild(\"ID\").equalTo(userUID); //retrieves data about only the current logged in user\n\n      console.log(userUID);\n      let currentState = this.state.newPeople;\n      query.once(\"value\", snapshot => {\n        // let currentState = this.state.newPeople;\n        // const currentUser = snapshot.val();\n        snapshot.forEach(data => {\n          const currentUser = snapshot.val();\n          let user = {\n            email: currentUser.UserEmail,\n            UserAnswer: currentUser.UserAnswer,\n            Questions: currentUser.Question,\n            id: currentUser.ID,\n            Score: currentUser.Score,\n            levelRook: currentUser.UserLevel,\n            levelStudent: currentUser.UserLevelStudent,\n            levelIntermediate: currentUser.UserLevelIntermediate,\n            levelExpert: currentUser.UserLevelExpert,\n            levelMaster: currentUser.UserLevelMaster,\n            rank: currentUser.RankValue\n          };\n          currentState.push(user);\n        });\n        console.log(currentState);\n        this.rankData(); //setting rank value from DB\n\n        this.setState({\n          newPeople: currentState //  dataHasLoaded: true\n\n        });\n      });\n    };\n\n    this.changetoQuiz = () => {\n      this.setState({\n        viewquiz: !this.state.viewquiz,\n        article1: false,\n        article2: false,\n        article3: false,\n        article4: false,\n        article5: false\n      });\n    };\n\n    this.changetoProfile = () => {\n      this.setState({\n        viewProfile: !this.state.viewProfile\n      });\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      fire.auth().signOut();\n      console.log(\"Logged out\");\n    };\n\n    this.hideQuizButton = () => {\n      this.setState({\n        hideQuiz: false\n      });\n    };\n\n    this.articelState = () => {\n      if (this.state.level1) {\n        this.setState({\n          article1: true,\n          article2: false,\n          article3: false,\n          article4: false,\n          article5: false\n        });\n      } else if (this.state.level2) {\n        this.setState({\n          article1: false,\n          article2: true,\n          article3: false,\n          article4: false,\n          article5: false\n        });\n      } else if (this.state.level3) {\n        this.setState({\n          article1: false,\n          article2: false,\n          article3: true,\n          article4: false,\n          article5: false\n        });\n      } else if (this.state.level4) {\n        this.setState({\n          article1: false,\n          article2: false,\n          article3: false,\n          article4: true,\n          article5: false\n        });\n      } else if (this.state.level5) {\n        this.setState({\n          article1: false,\n          article2: false,\n          article3: false,\n          article4: false,\n          article5: true\n        });\n      }\n    };\n\n    this.handleDisableValue = scores => {\n      let n = this.state.level;\n      let newN = n + 1; // this.setState({\n      //  level: newN\n      //});\n\n      this.setState({\n        scores: this.state.scores\n      });\n\n      if (scores >= 5 && this.state.level < 4) {\n        this.setState({\n          level: newN\n        });\n      }\n\n      console.log(\"old level \" + this.state.level);\n      console.log(\"new level \" + this.state.level);\n    };\n\n    this.quizInfo = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"click on the appropriate level to take the quiz\"));\n    };\n\n    this.rankData = () => {\n      this.state.people.map((person, index) => {\n        this.setState({\n          level: person.rank\n        });\n        console.log(this.state.level);\n      });\n      /*\n      this.setState({\n        level: this.state.people[0].rank\n      });\n      console.log(this.state.level);\n      */\n    };\n\n    this.modalInstruction = () => {\n      this.setState({\n        viewModal: !this.state.viewModal\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        viewModal: false\n      });\n    };\n\n    this.state = {\n      viewquiz: false,\n      people: [],\n      newPeople: [],\n      dataHasLoaded: false,\n      user: {},\n      disabled: true,\n      level: 0,\n      //   fakelevel: 0,\n      article1: true,\n      viewModal: false,\n      article2: false,\n      article3: false,\n      article4: false,\n      article5: false,\n      hideQuiz: true,\n      viewProfile: false\n    };\n  } //  this.disableCheckLevel();\n\n\n  componentDidMount() {\n    this.authListener();\n    this.updatedData();\n    console.log(\"Data loaded\");\n  }\n\n  render() {\n    const STUDENT = 1;\n    const INTERM = 2;\n    const EXPERT = 3;\n    const MASTER = 4;\n    /* let renderData = this.state.people.map((person, index) => {\n      return (\n        <div\n          id=\"userProfileComp\"\n          style={{ color: \" black\", position: \"absolute\" }}\n          key={index}\n        >\n          {this.state.viewProfile ? (\n            <UserProfile\n              className=\"userProfile\"\n              levelRook={person.levelRook}\n              levelStudent={person.levelStudent}\n              levelIntermediate={person.levelIntermediate}\n              levelExpert={person.levelExpert}\n              levelMaster={person.levelMaster}\n              score={person.Score}\n              question={person.Questions}\n              email={person.email}\n            />\n          ) : null}\n       \n          </div>\n      );\n    });\n    */\n    // let loadingSpinner = <Loader id=\"loader\" type=\"ThreeDots\" color=\"red \" />;\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      id: \"navbar\",\n      bg: \"primary\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      style: {\n        fontSize: 25\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \"Welcome\", React.createElement(ButtonToolbar, {\n      className: \"levelButtons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"btnLevel\",\n      onClick: () => {\n        this.changeToquiz1();\n        this.articelState();\n        this.checkQuiznLevel(); //       this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, \"Rookie\"), React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < STUDENT,\n      onClick: () => {\n        this.articelState();\n        this.changeToquiz2();\n        this.checkQuiznLevel(); //    this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, \"Student\"), React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < INTERM,\n      onClick: () => {\n        this.changeToquiz3();\n        this.articelState();\n        this.checkQuiznLevel(); //    this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"Intermediate\"), React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < EXPERT,\n      onClick: () => {\n        this.changeToquiz4();\n        this.articelState();\n        this.checkQuiznLevel(); //    this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, \"Expert\"), React.createElement(Button, {\n      className: \"btnLevel\",\n      disabled: this.state.level < MASTER,\n      onClick: () => {\n        this.changeToquiz5();\n        this.articelState();\n        this.checkQuiznLevel(); //      this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, \"Master\"))), React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => this.setState({\n        viewModal: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, \"Instructions\"))), React.createElement(Button, {\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, \"Logout \", React.createElement(FiLogOut, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      onClick: this.changetoProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, \"Profile \", React.createElement(MdPerson, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      id: \"userProfileComp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, this.state.viewProfile ? React.createElement(UserProfile, {\n      className: \"userProfile\",\n      levelRook: this.state.people[0].levelRook,\n      levelStudent: this.state.people[0].levelStudent,\n      levelIntermediate: this.state.people[0].levelIntermediate,\n      levelExpert: this.state.people[0].levelExpert,\n      levelMaster: this.state.people[0].levelMaster,\n      score: this.state.newPeople[0].Score,\n      question: this.state.people[0].Questions,\n      email: this.state.people[0].email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }) : null), this.state.article1 ? React.createElement(Articles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }) : null, this.state.article2 ? React.createElement(Articles2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }) : null, this.state.article3 ? React.createElement(Articles3, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }) : null, this.state.article4 ? React.createElement(Articles4, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }) : null, this.state.article5 ? React.createElement(Articles5, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }) : null, this.state.viewModal ? React.createElement(InstructionsModal, {\n      isOpen: this.state.viewModal,\n      onHide: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }) : null, React.createElement(Button, {\n      id: \"takeQuizbtn\",\n      disabled: this.state.disabled,\n      onClick: () => {\n        this.changetoQuiz();\n        this.hideQuizButton();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }, \"Take the Quiz\"), this.state.viewquiz ? React.createElement(Quiz, {\n      DBdata: this.updatedData,\n      current: this.state.currentState,\n      d: this.state.newPeople //     quiz={this.datafromQuiz}\n      ,\n      tryAgain: this.hideQuizButton,\n      tryAgain2: this.changetoQuiz,\n      articelVal: this.articelState,\n      rankValue: this.state.level,\n      handleDisableValue: this.handleDisableValue,\n      userLevel1: this.state.level1,\n      userLevel2: this.state.level2,\n      userLevel3: this.state.level3,\n      userLevel4: this.state.level4,\n      userLevel5: this.state.level5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/home/basil/farmsafety_app/src/components/home/welcome.js"],"names":["React","Component","MdPerson","FiLogOut","Loader","Button","Nav","Navbar","ButtonToolbar","Card","Quiz","fire","UserProfile","Articles","Articles2","Articles3","Articles4","Articles5","useState","Modal","ModalHeader","ModalBody","ModalFooter","InstructionsModal","Welcome","constructor","props","changeToquiz1","setState","level1","level2","level3","level4","level5","disabled","changeToquiz2","changeToquiz3","changeToquiz4","changeToquiz5","checkQuiznLevel","state","viewquiz","authListener","auth","onAuthStateChanged","user","retrieveData","ref","database","limitToLast","userUID","currentUser","uid","query","orderByChild","equalTo","console","log","on","snapshot","currentState","people","val","i","push","email","UserEmail","UserAnswer","Questions","Question","id","ID","Score","levelRook","UserLevel","levelStudent","UserLevelStudent","levelIntermediate","UserLevelIntermediate","levelExpert","UserLevelExpert","levelMaster","UserLevelMaster","rank","RankValue","rankData","updatedData","newPeople","once","forEach","data","changetoQuiz","article1","article2","article3","article4","article5","changetoProfile","viewProfile","logout","e","preventDefault","signOut","hideQuizButton","hideQuiz","articelState","handleDisableValue","scores","n","level","newN","quizInfo","map","person","index","modalInstruction","viewModal","closeModal","dataHasLoaded","componentDidMount","render","STUDENT","INTERM","EXPERT","MASTER","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./welcome.css\";\nimport { MdPerson } from \"react-icons/md\";\nimport { FiLogOut } from \"react-icons/fi\";\nimport Loader from \"react-loader-spinner\";\nimport { Button, Nav, Navbar, ButtonToolbar, Card } from \"react-bootstrap\";\n//import { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\n//import Login from \"../quiz/login\";\n//import Signup from \"../quiz/signup\";\nimport Quiz from \"../quiz/quiz\";\nimport fire from \"../../config/fire\";\nimport UserProfile from \"../quiz/userProfile\";\nimport Articles from \"./articles\";\nimport Articles2 from \"./articles2\";\nimport Articles3 from \"./articles3\";\nimport Articles4 from \"./articles4\";\nimport Articles5 from \"./articles5\";\n\nimport { useState } from \"react\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport InstructionsModal from \"./instructionsmodal\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewquiz: false,\n      people: [],\n      newPeople: [],\n      dataHasLoaded: false,\n      user: {},\n      disabled: true,\n      level: 0,\n      //   fakelevel: 0,\n      article1: true,\n      viewModal: false,\n      article2: false,\n      article3: false,\n      article4: false,\n      article5: false,\n      hideQuiz: true,\n      viewProfile: false\n    };\n  } //  this.disableCheckLevel();\n\n  changeToquiz1 = () => {\n    this.setState({\n      level1: true,\n      level2: false,\n      level3: false,\n      level4: false,\n      level5: false,\n      disabled: false\n    });\n  };\n\n  changeToquiz2 = () => {\n    this.setState({\n      level1: false,\n      level2: true,\n      level3: false,\n      level4: false,\n      level5: false,\n      disabled: false\n      //   fakelevel: 1\n    });\n  };\n\n  changeToquiz3 = () => {\n    this.setState({\n      level1: false,\n      level2: false,\n      level3: true,\n      level4: false,\n      level5: false,\n      disabled: false\n      // level: 2\n    });\n  };\n  changeToquiz4 = () => {\n    this.setState({\n      level1: false,\n      level2: false,\n      level3: false,\n      level4: true,\n      level5: false,\n      disabled: false\n      //     level: 3\n    });\n  };\n  changeToquiz5 = () => {\n    this.setState({\n      level1: false,\n      level2: false,\n      level3: false,\n      level4: false,\n      level5: true,\n      disabled: false\n      //   level: 4\n    });\n  };\n  checkQuiznLevel = () => {\n    if (\n      (this.state.viewquiz && this.state.level1) ||\n      (this.state.viewquiz && this.state.level2) ||\n      (this.state.viewquiz && this.state.level3) ||\n      (this.state.viewquiz && this.state.level4) ||\n      (this.state.viewquiz && this.state.level5)\n    ) {\n      this.setState({\n        viewquiz: false\n      });\n    }\n  };\n  componentDidMount() {\n    this.authListener();\n    this.updatedData();\n\n    console.log(\"Data loaded\");\n  }\n\n  authListener = () => {\n    //checks if user is already logged in 0n browser\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n      } else {\n        this.setState({ user: null });\n      }\n      return user;\n    });\n  };\n  retrieveData = () => {\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        var ref = fire\n          .database()\n          .ref(\"data\")\n          .limitToLast(1);\n        //takes the last data in DB\n\n        var userUID = fire.auth().currentUser.uid;\n        var query = ref.orderByChild(\"ID\").equalTo(userUID); //retrieves data about only the current logged in user\n        console.log(userUID);\n        query.on(\"value\", snapshot => {\n          let currentState = this.state.people;\n\n          const currentUser = snapshot.val();\n          for (let i in currentUser) {\n            currentState.push({\n              email: currentUser[i].UserEmail,\n              UserAnswer: currentUser[i].UserAnswer,\n              Questions: currentUser[i].Question,\n              id: currentUser[i].ID,\n              Score: currentUser[i].Score,\n              levelRook: currentUser[i].UserLevel,\n              levelStudent: currentUser[i].UserLevelStudent,\n              levelIntermediate: currentUser[i].UserLevelIntermediate,\n              levelExpert: currentUser[i].UserLevelExpert,\n              levelMaster: currentUser[i].UserLevelMaster,\n              rank: currentUser[i].RankValue\n            });\n          }\n\n          // currentState.push(user);\n          console.log(currentState);\n          this.rankData(); //setting rank value from DB\n\n          this.setState({\n            people: currentState\n            //  dataHasLoaded: true\n          });\n        });\n      } else {\n        console.log(\"no user\");\n      }\n    });\n  };\n  updatedData = () => {\n    var ref = fire\n      .database()\n      .ref(\"data\")\n      .limitToLast(1);\n    //takes the last data in DB\n\n    var userUID = fire.auth().currentUser.uid;\n    var query = ref.orderByChild(\"ID\").equalTo(userUID); //retrieves data about only the current logged in user\n    console.log(userUID);\n    let currentState = this.state.newPeople;\n    query.once(\"value\", snapshot => {\n      // let currentState = this.state.newPeople;\n\n      // const currentUser = snapshot.val();\n      snapshot.forEach(data => {\n        const currentUser = snapshot.val();\n        let user = {\n          email: currentUser.UserEmail,\n          UserAnswer: currentUser.UserAnswer,\n          Questions: currentUser.Question,\n          id: currentUser.ID,\n          Score: currentUser.Score,\n          levelRook: currentUser.UserLevel,\n          levelStudent: currentUser.UserLevelStudent,\n          levelIntermediate: currentUser.UserLevelIntermediate,\n          levelExpert: currentUser.UserLevelExpert,\n          levelMaster: currentUser.UserLevelMaster,\n          rank: currentUser.RankValue\n        };\n\n        currentState.push(user);\n      });\n      console.log(currentState);\n      this.rankData(); //setting rank value from DB\n\n      this.setState({\n        newPeople: currentState\n        //  dataHasLoaded: true\n      });\n    });\n  };\n  changetoQuiz = () => {\n    this.setState({\n      viewquiz: !this.state.viewquiz,\n      article1: false,\n      article2: false,\n      article3: false,\n      article4: false,\n      article5: false\n    });\n  };\n  changetoProfile = () => {\n    this.setState({\n      viewProfile: !this.state.viewProfile\n    });\n  };\n\n  logout = e => {\n    e.preventDefault();\n    fire.auth().signOut();\n    console.log(\"Logged out\");\n  };\n  hideQuizButton = () => {\n    this.setState({\n      hideQuiz: false\n    });\n  };\n  articelState = () => {\n    if (this.state.level1) {\n      this.setState({\n        article1: true,\n        article2: false,\n        article3: false,\n        article4: false,\n        article5: false\n      });\n    } else if (this.state.level2) {\n      this.setState({\n        article1: false,\n        article2: true,\n        article3: false,\n        article4: false,\n        article5: false\n      });\n    } else if (this.state.level3) {\n      this.setState({\n        article1: false,\n        article2: false,\n        article3: true,\n        article4: false,\n        article5: false\n      });\n    } else if (this.state.level4) {\n      this.setState({\n        article1: false,\n        article2: false,\n        article3: false,\n        article4: true,\n        article5: false\n      });\n    } else if (this.state.level5) {\n      this.setState({\n        article1: false,\n        article2: false,\n        article3: false,\n        article4: false,\n        article5: true\n      });\n    }\n  };\n\n  handleDisableValue = scores => {\n    let n = this.state.level;\n    let newN = n + 1;\n    // this.setState({\n    //  level: newN\n    //});\n    this.setState({\n      scores: this.state.scores\n    });\n\n    if (scores >= 5 && this.state.level < 4) {\n      this.setState({\n        level: newN\n      });\n    }\n    console.log(\"old level \" + this.state.level);\n    console.log(\"new level \" + this.state.level);\n  };\n\n  quizInfo = () => {\n    return (\n      <div>\n        <Card>click on the appropriate level to take the quiz</Card>\n      </div>\n    );\n  };\n  rankData = () => {\n    this.state.people.map((person, index) => {\n      this.setState({\n        level: person.rank\n      });\n      console.log(this.state.level);\n    });\n    /*\n    this.setState({\n      level: this.state.people[0].rank\n    });\n    console.log(this.state.level);\n  */\n  };\n\n  modalInstruction = () => {\n    this.setState({\n      viewModal: !this.state.viewModal\n    });\n  };\n  closeModal = () => {\n    this.setState({ viewModal: false });\n  };\n\n  render() {\n    const STUDENT = 1;\n    const INTERM = 2;\n    const EXPERT = 3;\n    const MASTER = 4;\n    /* let renderData = this.state.people.map((person, index) => {\n      return (\n        <div\n          id=\"userProfileComp\"\n          style={{ color: \" black\", position: \"absolute\" }}\n          key={index}\n        >\n          {this.state.viewProfile ? (\n            <UserProfile\n              className=\"userProfile\"\n              levelRook={person.levelRook}\n              levelStudent={person.levelStudent}\n              levelIntermediate={person.levelIntermediate}\n              levelExpert={person.levelExpert}\n              levelMaster={person.levelMaster}\n              score={person.Score}\n              question={person.Questions}\n              email={person.email}\n            />\n          ) : null}\n       \n          </div>\n      );\n    });\n*/\n    // let loadingSpinner = <Loader id=\"loader\" type=\"ThreeDots\" color=\"red \" />;\n\n    return (\n      <div>\n        <div>\n          <Navbar id=\"navbar\" bg=\"primary\" variant=\"dark\">\n            <Nav className=\"mr-auto\" style={{ fontSize: 25 }}>\n              Welcome\n              <ButtonToolbar className=\"levelButtons\">\n                <Button\n                  className=\"btnLevel\"\n                  onClick={() => {\n                    this.changeToquiz1();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //       this.hideQuizButton();\n                  }}\n                >\n                  Rookie\n                </Button>\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < STUDENT}\n                  onClick={() => {\n                    this.articelState();\n                    this.changeToquiz2();\n                    this.checkQuiznLevel();\n                    //    this.hideQuizButton();\n                  }}\n                >\n                  Student\n                </Button>\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < INTERM}\n                  onClick={() => {\n                    this.changeToquiz3();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //    this.hideQuizButton();\n                  }}\n                >\n                  Intermediate\n                </Button>\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < EXPERT}\n                  onClick={() => {\n                    this.changeToquiz4();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //    this.hideQuizButton();\n                  }}\n                >\n                  Expert\n                </Button>\n                <Button\n                  className=\"btnLevel\"\n                  disabled={this.state.level < MASTER}\n                  onClick={() => {\n                    this.changeToquiz5();\n                    this.articelState();\n                    this.checkQuiznLevel();\n                    //      this.hideQuizButton();\n                  }}\n                >\n                  Master\n                </Button>\n              </ButtonToolbar>\n            </Nav>\n            <ButtonToolbar>\n              <Button onClick={() => this.setState({ viewModal: true })}>\n                <Nav>Instructions</Nav>\n              </Button>\n            </ButtonToolbar>\n            <Button onClick={this.logout}>\n              <Nav>\n                Logout <FiLogOut />\n              </Nav>\n            </Button>\n            <Button onClick={this.changetoProfile}>\n              <Nav>\n                Profile <MdPerson />\n              </Nav>\n            </Button>\n          </Navbar>\n        </div>\n        <div id=\"userProfileComp\">\n          {this.state.viewProfile ? (\n            <UserProfile\n              className=\"userProfile\"\n              levelRook={this.state.people[0].levelRook}\n              levelStudent={this.state.people[0].levelStudent}\n              levelIntermediate={this.state.people[0].levelIntermediate}\n              levelExpert={this.state.people[0].levelExpert}\n              levelMaster={this.state.people[0].levelMaster}\n              score={this.state.newPeople[0].Score}\n              question={this.state.people[0].Questions}\n              email={this.state.people[0].email}\n            />\n          ) : null}\n        </div>\n\n        {this.state.article1 ? <Articles /> : null}\n        {this.state.article2 ? <Articles2 /> : null}\n        {this.state.article3 ? <Articles3 /> : null}\n        {this.state.article4 ? <Articles4 /> : null}\n        {this.state.article5 ? <Articles5 /> : null}\n\n        {this.state.viewModal ? (\n          <InstructionsModal\n            isOpen={this.state.viewModal}\n            onHide={this.closeModal}\n          />\n        ) : null}\n        {/*  {<div>{this.state.dataHasLoaded ? renderData : loadingSpinner}</div>}*/}\n        {/*{this.state.hideQuiz ? (*/}\n        <Button\n          id=\"takeQuizbtn\"\n          disabled={this.state.disabled}\n          onClick={() => {\n            this.changetoQuiz();\n            this.hideQuizButton();\n          }}\n        >\n          Take the Quiz\n        </Button>\n        {/*  ) : null} */}\n        {this.state.viewquiz ? (\n          <Quiz\n            DBdata={this.updatedData}\n            current={this.state.currentState}\n            d={this.state.newPeople}\n            //     quiz={this.datafromQuiz}\n            tryAgain={this.hideQuizButton}\n            tryAgain2={this.changetoQuiz}\n            articelVal={this.articelState}\n            rankValue={this.state.level}\n            handleDisableValue={this.handleDisableValue}\n            userLevel1={this.state.level1}\n            userLevel2={this.state.level2}\n            userLevel3={this.state.level3}\n            userLevel4={this.state.level4}\n            userLevel5={this.state.level5}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}