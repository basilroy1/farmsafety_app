{"ast":null,"code":"var _jsxFileName = \"/home/basil/farmsafety_app/src/components/home/welcome.js\";\nimport React, { Component } from \"react\";\nimport \"./welcome.css\";\nimport { MdPerson, MdCheckBox } from \"react-icons/md\";\nimport { FiLogOut } from \"react-icons/fi\";\nimport { GiSwordsEmblem } from \"react-icons/gi\";\nimport piechart from \"../pictures/piechartMachinery.jpg\";\nimport Loader from \"react-loader-spinner\";\nimport { Button, Nav, Navbar } from \"react-bootstrap\"; //import { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\n//import Login from \"../quiz/login\";\n//import Signup from \"../quiz/signup\";\n//import Home from \"./home\";\n\nimport Quiz from \"../quiz/quiz\";\nimport fire from \"../../config/fire\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props); // this.logout = this.logout.bind(this);\n\n    this.authListener = () => {\n      fire.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.setState({\n            user\n          });\n        } else {\n          this.setState({\n            user: null\n          });\n        }\n\n        return user;\n      });\n    };\n\n    this.retrieveData = () => {\n      var ref = fire.database().ref(\"data\"); //  var user1 = fire.auth().user.uid;\n      // var query = ref.orderByChild(\"ID\").equalTo(user1); //retrieves data about only the current logged in user\n      //  let currentState = this.state.people;\n\n      ref.once(\"value\", snapshot => {\n        let currentState = this.state.people;\n        snapshot.forEach(data => {\n          const currentUser = data.val();\n          let user = {\n            UserEmail: currentUser.UserEmail,\n            UserAnswer: currentUser.UserAnswer,\n            Questions: currentUser.Question,\n            ID: currentUser.ID,\n            Score: currentUser.Score\n          };\n          currentState.push(user);\n          console.log(currentState);\n        });\n        this.setState({\n          people: currentState,\n          dataHasLoaded: true\n        });\n      });\n      /*   var ref = fire.database().ref(\"data\");\n      var user = fire.auth().currentUser.uid; //gets users Unique ID\n       var query = ref.orderByChild(\"ID\").equalTo(user); //retrieves data about only the current logged in user\n      var topScores = ref.orderByChild(\"Score\"); //gets the max score of the current user\n      console.log(user);\n      console.log(topScores);\n       query.on(\"value\", function(snapshot) {\n        snapshot.forEach(function(user) {\n          var t = {\n            ID: user.val().ID,\n            Question: user.val().Question,\n            UserAnswer: user.val().UserAnswer,\n            UserEmail: user.val().UserEmail,\n            Score: user.val().Score\n          };\n              console.log(t);\n        });\n      */\n\n      /*  return (\n          <div>\n            <p>\n              <li>\n                {ID},{UserAnswer}\n              </li>\n            </p>\n           </div>\n        );\n       */\n      // });\n    };\n\n    this.changetoQuiz = () => {\n      this.setState({\n        viewquiz: true\n      });\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      fire.auth().signOut();\n      console.log(\"Logged out\");\n    };\n\n    this.state = {\n      viewquiz: false,\n      people: [],\n      dataHasLoaded: false,\n      user: {} // viewLogin:false\n\n    };\n  }\n\n  componentDidMount() {\n    this.authListener();\n    this.retrieveData();\n    console.log(\"Data loaded\");\n  }\n\n  render() {\n    let renderData = this.state.people.map((person, index) => {\n      return React.createElement(\"div\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, person.id), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, person.UserAnswer), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, person.Questions), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, person.email));\n    });\n    let loadingSpinner = React.createElement(Loader, {\n      id: \"loader\",\n      type: \"Plane\",\n      color: \"#570F0F \",\n      height: \"100\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.state.dataHasLoaded ? renderData : loadingSpinner), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      bg: \"primary\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Welcome \", React.createElement(MdPerson, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Rookie\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Student\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Intermediate\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Expert\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Master\"), React.createElement(Button, {\n      onClick: this.retrieveData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Display User Info\")), React.createElement(Button, {\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Logout \", React.createElement(FiLogOut, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"heading\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Guarding \", React.createElement(GiSwordsEmblem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"groove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Fixed guards must always be kept in place. These prevent entanglement The guard should ensure that no part of your body can reach the danger zone Fixed guarding of older machines should be upgraded in line with the guarding on newer models Do not use a machine unless all guards are in place\"), React.createElement(\"h3\", {\n      className: \"heading\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Machinery Checks \", React.createElement(MdCheckBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"groove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"All safety guards/ devices fitted The PTO \\\"O\\\" guards present Hydraulic systems and hoses in good repair All machinery defects identified and corrected Regular maintenance carried out\")), React.createElement(\"h3\", {\n      className: \"heading\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Machinery Checks \", React.createElement(MdCheckBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"groove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"All safety guards/ devices fitted The PTO \\\"O\\\" guards present Hydraulic systems and hoses in good repair All machinery defects identified and corrected Regular maintenance carried out\")), React.createElement(\"h3\", {\n      className: \"heading\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Machinery Fatalities \", React.createElement(MdCheckBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"groove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Tractors and Machinery are the main cause of farm accidents in Ireland. Elderly farmers and children are at particular risk. Being entangled in PTO\\u2019s, crushed under a machine part, caught in a machine mechanism, crushed between vehicles and struck by a machine object are the main causes of deaths with farm machinery.\", React.createElement(\"img\", {\n      src: piechart,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      onClick: this.changetoQuiz,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Take the Quiz\"), this.state.viewquiz ? React.createElement(Quiz, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }) : null));\n  }\n\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/home/basil/farmsafety_app/src/components/home/welcome.js"],"names":["React","Component","MdPerson","MdCheckBox","FiLogOut","GiSwordsEmblem","piechart","Loader","Button","Nav","Navbar","Quiz","fire","Welcome","constructor","props","authListener","auth","onAuthStateChanged","user","setState","retrieveData","ref","database","once","snapshot","currentState","state","people","forEach","data","currentUser","val","UserEmail","UserAnswer","Questions","Question","ID","Score","push","console","log","dataHasLoaded","changetoQuiz","viewquiz","logout","e","preventDefault","signOut","componentDidMount","render","renderData","map","person","index","id","email","loadingSpinner","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./welcome.css\";\nimport { MdPerson, MdCheckBox } from \"react-icons/md\";\nimport { FiLogOut } from \"react-icons/fi\";\nimport { GiSwordsEmblem } from \"react-icons/gi\";\nimport piechart from \"../pictures/piechartMachinery.jpg\";\nimport Loader from \"react-loader-spinner\";\nimport { Button, Nav, Navbar } from \"react-bootstrap\";\n//import { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\n//import Login from \"../quiz/login\";\n//import Signup from \"../quiz/signup\";\n//import Home from \"./home\";\nimport Quiz from \"../quiz/quiz\";\nimport fire from \"../../config/fire\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    // this.logout = this.logout.bind(this);\n    this.state = {\n      viewquiz: false,\n      people: [],\n      dataHasLoaded: false,\n      user: {}\n      // viewLogin:false\n    };\n  }\n\n  componentDidMount() {\n    this.authListener();\n    this.retrieveData();\n\n    console.log(\"Data loaded\");\n  }\n  authListener = () => {\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n      } else {\n        this.setState({ user: null });\n      }\n      return user;\n    });\n  };\n  retrieveData = () => {\n    var ref = fire.database().ref(\"data\");\n    //  var user1 = fire.auth().user.uid;\n    // var query = ref.orderByChild(\"ID\").equalTo(user1); //retrieves data about only the current logged in user\n\n    //  let currentState = this.state.people;\n    ref.once(\"value\", snapshot => {\n      let currentState = this.state.people;\n      snapshot.forEach(data => {\n        const currentUser = data.val();\n        let user = {\n          UserEmail: currentUser.UserEmail,\n          UserAnswer: currentUser.UserAnswer,\n          Questions: currentUser.Question,\n          ID: currentUser.ID,\n          Score: currentUser.Score\n        };\n\n        currentState.push(user);\n        console.log(currentState);\n      });\n\n      this.setState({\n        people: currentState,\n        dataHasLoaded: true\n      });\n    });\n\n    /*   var ref = fire.database().ref(\"data\");\n    var user = fire.auth().currentUser.uid; //gets users Unique ID\n\n    var query = ref.orderByChild(\"ID\").equalTo(user); //retrieves data about only the current logged in user\n    var topScores = ref.orderByChild(\"Score\"); //gets the max score of the current user\n    console.log(user);\n    console.log(topScores);\n\n    query.on(\"value\", function(snapshot) {\n      snapshot.forEach(function(user) {\n        var t = {\n          ID: user.val().ID,\n          Question: user.val().Question,\n          UserAnswer: user.val().UserAnswer,\n          UserEmail: user.val().UserEmail,\n          Score: user.val().Score\n        };\n            console.log(t);\n      });\n*/\n    /*  return (\n        <div>\n          <p>\n            <li>\n              {ID},{UserAnswer}\n            </li>\n          </p>\n\n        </div>\n      );\n\n    */\n    // });\n  };\n\n  changetoQuiz = () => {\n    this.setState({\n      viewquiz: true\n    });\n  };\n  logout = e => {\n    e.preventDefault();\n    fire.auth().signOut();\n    console.log(\"Logged out\");\n  };\n  render() {\n    let renderData = this.state.people.map((person, index) => {\n      return (\n        <div key={index}>\n          <Button>{person.id}</Button>\n          <Button>{person.UserAnswer}</Button>\n          <Button>{person.Questions}</Button>\n          <Button>{person.email}</Button>\n        </div>\n      );\n    });\n\n    let loadingSpinner = (\n      <Loader\n        id=\"loader\"\n        type=\"Plane\"\n        color=\"#570F0F \"\n        height=\"100\"\n        width=\"100\"\n      />\n    );\n\n    return (\n      <div>\n        {<div>{this.state.dataHasLoaded ? renderData : loadingSpinner}</div>}\n        <div>\n          <Navbar bg=\"primary\" variant=\"dark\">\n            <Nav className=\"mr-auto\">\n              Welcome <MdPerson />\n              <Button>Rookie</Button>\n              <Button>Student</Button>\n              <Button>Intermediate</Button>\n              <Button>Expert</Button>\n              <Button>Master</Button>\n              <Button onClick={this.retrieveData}>Display User Info</Button>\n            </Nav>\n            <Button onClick={this.logout}>\n              <Nav>\n                Logout <FiLogOut />\n              </Nav>\n            </Button>\n          </Navbar>\n        </div>\n\n        <div style={{ backgroundColor: \"white\" }}>\n          <h3 className=\"heading\" style={{ color: \"black\" }}>\n            Guarding <GiSwordsEmblem />\n          </h3>\n          <p className=\"groove\">\n            Fixed guards must always be kept in place. These prevent\n            entanglement The guard should ensure that no part of your body can\n            reach the danger zone Fixed guarding of older machines should be\n            upgraded in line with the guarding on newer models Do not use a\n            machine unless all guards are in place\n          </p>\n          <h3 className=\"heading\" style={{ color: \"black\" }}>\n            Machinery Checks <MdCheckBox />\n            <p className=\"groove\">\n              All safety guards/ devices fitted The PTO \"O\" guards present\n              Hydraulic systems and hoses in good repair All machinery defects\n              identified and corrected Regular maintenance carried out\n            </p>\n          </h3>\n\n          <h3 className=\"heading\" style={{ color: \"black\" }}>\n            Machinery Checks <MdCheckBox />\n            <p className=\"groove\">\n              All safety guards/ devices fitted The PTO \"O\" guards present\n              Hydraulic systems and hoses in good repair All machinery defects\n              identified and corrected Regular maintenance carried out\n            </p>\n          </h3>\n          <h3 className=\"heading\" style={{ color: \"black\" }}>\n            Machinery Fatalities <MdCheckBox />\n            <p className=\"groove\">\n              Tractors and Machinery are the main cause of farm accidents in\n              Ireland. Elderly farmers and children are at particular risk.\n              Being entangled in PTOâ€™s, crushed under a machine part, caught in\n              a machine mechanism, crushed between vehicles and struck by a\n              machine object are the main causes of deaths with farm machinery.\n              <img src={piechart} alt=\"\" />\n            </p>\n          </h3>\n\n          <Button onClick={this.changetoQuiz}>Take the Quiz</Button>\n          {this.state.viewquiz ? <Quiz /> : null}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}